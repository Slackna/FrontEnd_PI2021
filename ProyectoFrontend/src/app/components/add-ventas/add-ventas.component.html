<app-menu></app-menu>
<!-- Bottom Bar Start -->
<div class="bottom-bar">
    <div class="container-fluid">
        <div class="row align-items-center">
            <div class="col-md-3">
                <div class="logo">
                    <a href="addIndex">
                        <img src="assets/img/logo.png" alt="Logo">
                    </a>
                </div>
            </div>
            <div class="col-md-6">
                <div class="search">
                    <input type="text" placeholder="Buscar">
                    <button><i class="fa fa-search"></i></button>
                </div>
            </div>
            <div class="col-md-3">
                <div class="user">
                    <a href="wishlist.html" class="btn wishlist">
                        <i class="fa fa-heart"></i>
                        <span>(0)</span>
                    </a>
                    
                </div>
            </div>
        </div>
    </div>
  </div>
  

<!-- My Account Start -->
<div class="my-account">
    <div class="container-fluid">
        <div class="row">
            <div class="col-md-3">
                <div class="nav flex-column nav-pills" role="tablist" aria-orientation="vertical">
                    <a class="nav-link active" id="dashboard-nav" data-toggle="pill" href="#dashboard-tab" role="tab"><i class="fa fa-tachometer-alt"></i>Tablero</a>
                    <a class="nav-link" id="orders-nav" data-toggle="pill" href="#orders-tab" role="tab"><i class="fa fa-shopping-bag"></i>Pedidos</a>
                    <a class="nav-link" id="payment-nav" data-toggle="pill" href="#payment-tab" role="tab"><i class="fa fa-credit-card"></i>Mis Compras</a>
                    <a class="nav-link" id="address-nav" data-toggle="pill" href="#address-tab" role="tab"><i class="fa fa-map-marker-alt"></i>Envios</a>
                    <a class="nav-link" id="account-nav" data-toggle="pill" href="#account-tab" role="tab"><i class="fa fa-user"></i>Detalles de cuenta</a>
                    <a  *ngIf="isAdmin" class="nav-link" id="usuario-nav" data-toggle="pill" href="#usuario-tab" role="tab"><i class="fas fa-user"></i>Usuarios</a>
                    <a  *ngIf="isAdmin" class="nav-link" id="mantenimiento-nav" data-toggle="pill" href="#mantenimiento-tab" role="tab"><i class="fa fa-shopping-bag"></i>Mantenimiento E-Store</a>
                    <a   class="nav-link" id="reclamos-nav" data-toggle="pill" href="#reclamos-tab" role="tab"><i class="fa fa-shopping-bag"></i>Mis reclamos</a>
                    <a class="nav-link" routerLink="/addIndex"  *ngIf="isLogged" (click)="onLogOut()"><i class="fa fa-sign-out-alt"></i>Cerrar Sesión</a>
                </div>
            </div>
            <div class="col-md-9">
                <div class="tab-content">
                    <div class="tab-pane fade show active" id="dashboard-tab" role="tabpanel" aria-labelledby="dashboard-nav">
                        <h4>Tablero</h4>
                        <div class="Compraventa">
                            <div class="Compraventa1">
                                
                                
                            <h4>1. Ingresa a tu cuenta</h4>
                                <p>Ingresa a tu cuenta y haz clic en la opción Vender.
                
                                </p>
                            <h4>2.  Escoge que deseas publicar</h4>    
                                <p>
                
                   Escribe un título para tu publicación. Cuanto más preciso sea el título más fácil será para tus compradores saber que ofreces lo que están buscando. Conoce cómo titular correctamente.
                   Selecciona la categoría de tu producto. Tomando el título de la publicación, te sugerimos una categoría para el producto que deseas vender. Verifica que se adapte a lo que estás ofreciendo o escoge otras. Puedes buscar en qué categoría publica tu competencia para asegurarte de estar publicando de forma correcta.</p>
                
                            <h4>
                                3.  Completa la informacion de tu producto  
                            </h4>
                            <p>
                                Ingresa fotos de tu producto</p>
                             <p>   Indica el stock</p>
                              <p>  Completa el código universal de tu producto </p>
                             <p>   Completa la ficha técnica
                            </p>
                            <h4>4.  Ingresa el precio de tu prodcuto</h4>
                            <p>Ingresa el precio que desees</p>
                            </div>
                
                          
                        </div>
                    </div>
                    
                    <div class="tab-pane fade" id="orders-tab" role="tabpanel" aria-labelledby="orders-nav">
                        <button   class="btn btn-primary btn-"type="button" data-toggle='modal' data-target="#idModalRegistrar" class='btn btn-success' style="width: 180px">Detalles de Entrega</button>
                        <br>
                        
                        <br>
                        <div class="table-responsive">
                            <table class="table table-bordered"  *ngFor="let aux of  listaPedidoporUsuario ">
                                <thead class="thead-dark">
                                    <tr>
                                        <th style="width: 10%">Codigo de Pedido</th>
                                        <th style="width: 10%">Fecha</th>
                                        <th style="width: 10%">Nombre Producto</th>
                                        <th style="width: 10%" >Estado</th>
                                        <th style="width: 7%">Atiende</th>
                                       
                                    </tr>
                                </thead>
                                <tbody class="align-middle" >
                                    <tr>
                                        <td>{{aux.idPedido}}</td>
                                        <td>{{aux.detalle!.fecha}}</td>
                                        <td>{{aux.detalle!.nombreProducto}}</td>
                                        <td>{{getEstado(aux.detalle!.estado==null?0:aux.detalle!.estado)}}</td>
                                       <td><button (click)="actualizaEstado(aux.detalle!)" type="button" style="width: 90px" class="btn btn-primary btn-sm" >Atender</button></td>
                                      
                                    </tr>
                                </tbody>
                            </table>
                        </div>
                    </div>

                   

                    <div class="tab-pane fade" id="payment-tab" role="tabpanel" aria-labelledby="payment-nav">
                        <div class="table-responsive" >
                            <h4>Mis compras</h4>
                            <br>
                            <table class="table table-bordered"   *ngFor="let compra of  listaComprasporUsuario" >
                                <thead class="thead-dark">
                                    <tr>
                                        <th style="width: 10%">Productos</th>
                                        <th style="width: 10%">Fecha</th>
                                        <th style="width: 10%">Precio</th>
                                        <th style="width: 10%">Estado</th>
                                        <th style="width: 10%">Factura</th>
                                    </tr>
                                </thead>
                                <tbody class="align-middle">
                                    <tr>
                                        <td>{{compra.nombreProducto}}</td>
                                        <td>{{compra.fecha}}</td>
                                        <td>{{compra.monto}}</td>
                                        <td>{{getEstado(compra.estado==null?0:compra.estado)}}</td>
                                        <td><button routerLink="/addFactura/{{compra.idCompras}}" type="button" style="width: 90px" class="btn btn-primary btn-sm" >Ver factura</button></td>
                                    </tr>
                                </tbody>
                            </table>
                           
                        </div>
                    </div>
                    <div class="tab-pane fade" id="address-tab" role="tabpanel" aria-labelledby="address-nav">
                        <h4>Direcciones de Envio</h4>
                        <br>
                        <div class="table-responsive" >
                            <table class="table table-bordered"  *ngFor="let aux of listaPedidoporUsuario" >
                                
                               
                                <thead class="thead-dark"  >
                                    <tr>
                                        <th style="width: 10%">Codigo de Pedido</th>
                                        <th style="width: 20%">Nombre de Cliente</th>
                                        <th style="width: 20%">Contacto</th>
                                        <th style="width: 15%">Direccion de Entrega</th>
                                        <th style="width: 10%">Provincia</th>
                                        <th style="width: 7%">Distrito</th>
                                        <th style="width: 7%">Pais</th>
                                       
                                        
                                    </tr>
                                </thead>
                                <tbody class="align-middle" >
                                    <tr>
                                        <td>{{aux.idPedido}}</td>
                                        <td>{{aux.detalle!.usuario!.nombre}} {{aux.detalle!.usuario!.paterno}} {{aux.detalle!.usuario!.materno}}</td>
                                        <td>{{aux.detalle!.usuario!.email}} <br>
                                            {{aux.detalle!.usuario!.celular}}
                                        </td>
                                        <td>{{aux.detalle!.direccion}}</td>
                                        <td>{{aux.detalle!.provincia}}</td>
                                        <td>{{aux.detalle!.distrito}}</td>
                                        <td>{{aux.detalle!.pais}}</td>
                                    </tr>
                                </tbody>
                         
                            </table>
                            
                        </div>
                    </div>
                    <div class="tab-pane fade" id="account-tab" role="tabpanel" aria-labelledby="account-nav">
                        <h4>Actualiza tus Datos</h4>
                        <div class="row">
                            <div class="col-md-6">
                                <input [(ngModel)]="usuario.nombre" class="form-control" type="text" placeholder="Nombres">
                            </div>
                            <div class="col-md-6">
                                <input  [(ngModel)]="usuario.paterno" class="form-control" type="text" placeholder="Apellido paterno">
                            </div>
                            <div class="col-md-6">
                                <input  [(ngModel)]="usuario.materno" class="form-control" type="text" placeholder="Apellido Materno">
                            </div>
                            <div class="col-md-6">
                                <input  [(ngModel)]="usuario.dni"class="form-control" type="text" placeholder="Dni">
                            </div>
                            <div class="col-md-12">
                                <input [(ngModel)]="usuario.direccion" class="form-control" type="text" placeholder="Direccion">
                            </div>
                            <div class="col-md-12">
                                <input [(ngModel)]="usuario.celular" class="form-control" type="text" placeholder="Celular">
                            </div>
                            <div class="col-md-12">
                                <input [(ngModel)]="usuario.nombreUsuario" class="form-control" id="nombreUsuario" name="nombreUsuario" type="text" placeholder="Usuario">
                            </div>
                            <div class="col-md-12">
                                <input  [(ngModel)]="usuario.password" class="form-control" type="password" placeholder="Contraseña">
                            </div>
                            <div class="col-md-12">
                                <input [(ngModel)]="usuario.email" class="form-control" type="email" placeholder="Email">
                            </div>
                            <div class="col-md-12">
                                <button (click)="actualiza()"  id="id_act_actualiza" class="btn btn-success form-control">Actualizar Cuenta</button>
                                <br><br>
                            </div>
                        </div>
                    </div>
                    <div class="tab-pane fade" id="usuario-tab" role="tabpanel" aria-labelledby="usuario-nav">
                        <div>

                            <form class="content"  (submit) = "consultaCliente()">
                        
                        
                            <div class="submit-form" >
                          
                                 <div class="row">
                                    <div class="col-lg-12">
                                        <h6>Consulta de Usuario</h6>
                                    </div>
                                </div>
                          
                                <div class="row" style="margin-top: 2%">
                                        <label for="nombres" class="col-lg-1">Nombres</label>
                                        <div class="col-lg-2">
                                            <input type="text" class="form-control" name="nombres" id="nombres"  [(ngModel)]= "nombre2" />
                                        </div>
                                        <label for="apellidos" class="col-lg-1">Usuario</label>
                                        <div class="col-lg-2">
                                            <input type="text" class="form-control" name="nombreUsuario1" id="nombreUsuario1"  [(ngModel)]= "nombreUsuario1" />
                                        </div>
                                        <label for="apellidos" class="col-lg-1">Email</label>
                                        <div class="col-lg-2">
                                            <input type="text" class="form-control" name="email" id="email"  [(ngModel)]= "email1" />
                                        </div>
                                        <div class="col-lg-2">
                                            <button class="btn btn-success"  >Filtrar</button>
                                        </div>
                                 </div>
                        
                        
                                 <div class="row" style="margin-top: 3%">
                                        <table class="table table-hover">
                                            <thead>
                                                <tr>
                                                    <th>ID</th>
                                                    <th>Nombres</th>
                                                    <th>Usuario</th>
                                                    <th>Email</th>
                                                    <th>Telefono</th>
                                                    <th>DNI</th>
                                                </tr>
                                            </thead>
                                            <tbody>
                                                    <tr *ngFor = "let aux of usuario2" >
                                                         <td>{{ aux.idUsuario }}</td>   
                                                         <td>{{ aux.nombre }} {{ aux.paterno }} {{ aux.materno }}</td> 
                                                         <td>{{ aux.nombreUsuario}}</td>     
                                                         <td>{{ aux.email }}</td>   
                                                         <td>{{ aux.celular }}</td>   
                                                         <td>{{ aux.dni}}</td> 
                                                    </tr>
                        
                                            </tbody>
                                               
                        
                                        </table>
                        
                        
                                 </div>
                                
                        
                                </div>
                        
                          
                             </form>
                          
                          
                            </div>
                        
                    </div>
                    <div class="tab-pane fade" id="mantenimiento-tab" role="tabpanel" aria-labelledby="mantenimiento-nav">
                        
                        <div class="container" >

                            <h5>Mantenimiento de Categorias</h5>
                        
                            <div class="col-md-23" style="margin-top: 3%">
                        
                        
                                <div class="row" style="height: 80px">
                                    <div class="col-md-4">
                                        <input [(ngModel)] = "filtro"  class="form-control"  id="id_txt_filtro" name="filtro" placeholder="Ingrese el nombre" type="text" maxlength="30" />
                                    </div>
                                    <div class="col-md-2">
                                        <button (click)="consulta()"  type="button" class="btn btn-primary" id="id_btn_filtrar" style="width: 150px">Filtrar</button>
                                    </div>
                                    <div class="col-md-2">
                                        <button type="button" data-toggle='modal' data-target="#idModalRegistrar" class='btn btn-success' style="width: 150px">Registrar</button>
                                    </div>
                                </div>
                        
                                <div class="row">
                                    <div class="col-md-12">
                                        <div class="content">
                        
                                            <table id="id_table" class="table table-striped table-bordered">
                                                <thead>
                                                    <tr>
                                                        <th style="width: 5%">#</th>
                                                        <th style="width: 30%">Nombre</th>
                                
                                                        <th style="width: 7%"></th>
                                                        <th style="width: 7%"></th>
                        
                                                    </tr>
                                                </thead>
                                                <tbody>
                                                    <tr *ngFor="let aux of categorias">
                                                        <td>{{aux.id_categoria}}</td>
                                                        <td>{{aux.nombre}}</td>
                                                        
                                                        <td><button (click)="busca(aux)" type="button" style="width: 90px" class="btn btn-primary btn-sm"  data-toggle="modal" data-target="#idModalActualizar">Editar</button></td>
                                                        <td><button (click)="borrar(aux.id_categoria!)"type="button" style="width: 90px" class="btn btn-primary btn-sm" >Eliminar</button></td>
                                                    
                                                    </tr>
                                                </tbody>
                                            </table>
                        
                                        </div>
                                    </div>
                                </div>
                            </div>
                        
                        
                            <div class="modal fade"  id="idModalRegistrar" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                        
                                <div class="modal-dialog" style="max-width: 70%;">
                                    <div class="modal-content" >
                        
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">Registro de una Categoria</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                    <span aria-hidden="true">&times;</span>
                                            </button>
                                        </div>
                                        
                                        <div class="modal-body">
                                            <form class="content" >
                                                <div class="submit-form">
                                                    
                                                        <div  class="row">
                                                            <div class="col-lg-10">
                                                                <label for="id_reg_nombre">Nombre</label>
                                                                <input [(ngModel)]="categoria.nombre" type="text" placeholder="Ingrese el nombre" class="form-control" name="nombre" id="id_reg_nombre" />
                                                            </div>
                                                            
                                                           
                                                        </div>
       
                        
                                                </div> 
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal" id="btn_reg_cerrar" style="width: 100px;">Close</button>
                                                    <div class="form-group text-center">
                                                        <div class="col-lg-12">
                                                            <button (click)="registra()" id="id_reg_registra"  class="btn btn-success form-control"style="width: 100px;">Registrar</button>
                                                        </div>
                                                    </div>
                                                </div>
                        
                                       
                                            </form>
                                        </div>
                        
                        
                        
                                    </div>
                                </div>
                            </div>
                        
                            <div class="modal fade" id="idModalActualizar" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
                                <div class="modal-dialog" style="max-width: 80%;">
                                    <div class="modal-content">
                                        <div class="modal-header">
                                            <h5 class="modal-title" id="exampleModalLabel">Actualización de una Categoria</h5>
                                            <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                                                 <span aria-hidden="true">&times;</span>
                                             </button>
                                        </div>
                                        <div class="modal-body">
                        
                                            <form class="content" >
                                                <div class="submit-form">
                        
                                                    <div  class="row">
                                                        <div class="col-lg-8">
                                                            <label for="id_act_nombre">Nombre</label>
                                                            <input [(ngModel)]="categoria.nombre" type="text" placeholder="Ingrese el nombre" class="form-control" name="nombre" id="id_act_nombre" />
                                                        </div>                      
                                                    </div>
                            
                            
                        
                                                </div>
                        
                                                <div class="modal-footer">
                                                    <button type="button" class="btn btn-secondary" data-dismiss="modal" id="btn_act_cerrar">Close</button>
                                                    <div class="form-group text-center">
                                                        <div class="col-lg-12">
                                                            <button (click)="actualizaCate()"  id="id_act_actualiza" class="btn btn-success form-control">Actualizar</button>
                                                        </div>
                                                    </div>
                                                </div>
                                            </form>
                        
                        
                        
                        
                        
                                        </div>
                        
                                    </div>
                                </div>
                            </div>
                            
                          
                            
                        
                    </div>


                </div>
                <div class="tab-pane fade" id="reclamos-tab" role="tabpanel" aria-labelledby="reclammos-nav">
                    <div class="row">
                        <div class="col-md-12">
                            <div class="content">
            
                                <table id="id_table" class="table table-striped table-bordered">
                                    <thead>
                                        <tr>
                                            <th style="width: 5%">Codigo</th>
                                            <th style="width: 30%">Descripcion</th>
                                            <th style="width: 20%">fechaRegistro</th>
                                            <th style="width: 10%">Cliente</th>
                                            <th style="width: 7%"></th>
                                    
            
                                        </tr>
                                    </thead>
                                    <tbody>
                                        <tr *ngFor="let aux of reclamoss">
                                            <td>{{aux.idReclamo}}</td>
                                            <td>{{aux.descripcion}}</td>
                                            <td>{{aux.fechaRegistro}}</td>
                                            <td>{{aux.usuario!.nombre}} {{aux.usuario!.paterno}} {{aux.usuario!.materno}}</td>
                                            <td><button (click)="borrarReclamo(aux.idReclamo!)"type="button" style="width: 90px" class="btn btn-primary btn-sm" >Eliminar</button></td>
                                        
                                        </tr>
                                    </tbody>
                                </table>
            
                            </div>
                        </div>
                    </div>
                </div>

                
        </div>
    </div>
</div>

















<div class="modal fade"  id="idModalRegistrar" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">

    <div class="modal-dialog" style="max-width: 70%;">
        <div class="modal-content" >

            <div class="modal-header">
                <h5 class="modal-title" id="exampleModalLabel">Datos de Entrega</h5>
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <span aria-hidden="true">&times;</span>
                </button>
            </div>
            
            <div class="modal-body" >
                <div class="table-responsive" >
                    <table class="table table-bordered"  *ngFor="let aux of listaPedidoporUsuario" >
                        
                       
                        <thead class="thead-dark"  >
                            <tr>
                                <th>Codigo de Pedido</th>
                                <th>Nombre de Cliente</th>
                                <th>Contacto</th>
                                <th>Direccion de Entrega</th>
                                <th>Provincia</th>
                                <th>Distrito</th>
                                <th>Pais</th>
                               
                                
                            </tr>
                        </thead>
                        <tbody class="align-middle" >
                            <tr>
                                <td>{{aux.idPedido}}</td>
                                <td>{{aux.detalle!.usuario!.nombre}} {{aux.detalle!.usuario!.paterno}} {{aux.detalle!.usuario!.materno}}</td>
                                <td>{{aux.detalle!.usuario!.email}} <br>
                                    {{aux.detalle!.usuario!.celular}}
                                </td>
                                <td>{{aux.detalle!.direccion}}</td>
                                <td>{{aux.detalle!.provincia}}</td>
                                <td>{{aux.detalle!.distrito}}</td>
                                <td>{{aux.detalle!.pais}}</td>
                            </tr>
                        </tbody>
                 
                    </table>
                    
                </div>
                
            </div>



        </div>
    </div>
</div>
<!-- My Account End -->
